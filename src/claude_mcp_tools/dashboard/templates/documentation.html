{% extends "base.html" %}

{% block title %}Documentation - ClaudeMcpTools{% endblock %}

{% block page_actions %}
<button class="btn btn-primary" onclick="showAddSourceModal()">
    <span class="btn-icon">‚ûï</span>
    Add Source
</button>
<button class="btn btn-secondary" onclick="window.location.reload()">
    <span class="btn-icon">üîÑ</span>
    Refresh
</button>
{% endblock %}

{% block content %}
<div class="documentation-container">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Documentation Management</h3>
        </div>
        <div class="card-content">
            <div class="coming-soon">
                <h3>üöß Documentation Management Coming Soon!</h3>
                <p>The documentation management interface is currently under development.</p>
                
                <div class="planned-features">
                    <h4>Planned Features:</h4>
                    <ul>
                        <li>üìö View and manage documentation sources</li>
                        <li>üîç Search scraped documentation with semantic search</li>
                        <li>üìä Browse vector database and embeddings</li>
                        <li>üîÑ Trigger documentation updates and scraping</li>
                        <li>‚öôÔ∏è Configure crawl settings and update frequency</li>
                        <li>üìà View documentation usage statistics</li>
                    </ul>
                </div>
                
                <div class="current-alternatives">
                    <h4>Current Alternatives:</h4>
                    <p>You can currently manage documentation through:</p>
                    <ul>
                        <li>Claude Commands: <code>/project:documentation &lt;query&gt;</code></li>
                        <li>MCP Tools: <code>scrape_documentation</code>, <code>search_documentation</code></li>
                        <li>Direct API calls to the orchestration server</li>
                    </ul>
                </div>
                
                <div class="temp-actions">
                    <button class="btn btn-primary" onclick="testDocumentationSearch()">
                        üîç Test Documentation Search
                    </button>
                    <button class="btn btn-secondary" onclick="showDocumentationHelp()">
                        üìñ View Documentation Help
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.documentation-container {
    max-width: 800px;
    margin: 0 auto;
}

.coming-soon {
    text-align: center;
    padding: 2rem;
}

.coming-soon h3 {
    color: var(--warning-color);
    margin-bottom: 1rem;
}

.planned-features,
.current-alternatives {
    text-align: left;
    margin: 2rem 0;
    padding: 1.5rem;
    background-color: var(--bg-secondary);
    border-radius: 8px;
}

.planned-features h4,
.current-alternatives h4 {
    color: var(--text-primary);
    margin-bottom: 1rem;
}

.planned-features ul,
.current-alternatives ul {
    margin: 1rem 0;
    padding-left: 1.5rem;
}

.planned-features li,
.current-alternatives li {
    margin: 0.5rem 0;
    color: var(--text-secondary);
}

.current-alternatives code {
    background-color: var(--bg-tertiary);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: monospace;
}

.temp-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 2rem;
}

@media (max-width: 768px) {
    .temp-actions {
        flex-direction: column;
        align-items: center;
    }
}
</style>

<script>
function showAddSourceModal() {
    showModal('Add Documentation Source', `
        <div class="coming-soon-modal">
            <p>üìö Documentation source management is coming soon!</p>
            <p>For now, you can use the MCP tools directly:</p>
            <ul>
                <li><code>scrape_documentation(url, source_name)</code></li>
                <li><code>search_documentation(query)</code></li>
                <li><code>update_documentation()</code></li>
            </ul>
        </div>
    `, `
        <button class="btn btn-secondary" onclick="hideModal()">Close</button>
    `);
}

function testDocumentationSearch() {
    showModal('Test Documentation Search', `
        <div class="search-test">
            <p>This would open a search interface to test documentation search functionality.</p>
            <p>Features would include:</p>
            <ul>
                <li>Semantic search across all documentation sources</li>
                <li>Filters by source, content type, and relevance</li>
                <li>Preview of search results with snippets</li>
                <li>Direct links to full documentation</li>
            </ul>
            <p><em>Coming soon in the next update!</em></p>
        </div>
    `, `
        <button class="btn btn-secondary" onclick="hideModal()">Close</button>
    `);
}

function showDocumentationHelp() {
    showModal('Documentation Help', `
        <div class="help-content">
            <h4>Using ClaudeMcpTools Documentation Features</h4>
            
            <h5>Claude Commands:</h5>
            <p>Use <code>/project:documentation &lt;query&gt;</code> to search documentation.</p>
            
            <h5>Available MCP Tools:</h5>
            <ul>
                <li><strong>scrape_documentation</strong> - Add new documentation sources</li>
                <li><strong>search_documentation</strong> - Search existing documentation</li>
                <li><strong>update_documentation</strong> - Refresh documentation sources</li>
                <li><strong>link_docs_to_code</strong> - Connect docs to code symbols</li>
            </ul>
            
            <h5>Data Storage:</h5>
            <p>Documentation is stored in <code>~/.mcptools/data/documentation/</code></p>
            
            <h5>Vector Database:</h5>
            <p>Semantic search powered by ChromaDB with sentence-transformers embeddings.</p>
        </div>
    `, `
        <button class="btn btn-secondary" onclick="hideModal()">Close</button>
    `);
}
</script>
{% endblock %}